{"version":3,"sources":["images/pin.svg","components/PhoneNumber.js","components/Support.js","components/Location.js","components/Home.js","firebase/index.js","components/SoundCommandButton.js","components/Cheerup.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","PhoneNumber","this","props","supportName","phoneNumber","className","href","type","style","backgroundColor","border","borderRadius","PhoneFilled","Component","Support","title","MapWrapped","withScriptjs","withGoogleMap","useState","selectedHospital","setSelectedHospital","defaultZoom","defaultCenter","lat","lng","parkData","map","park","key","properties","dcode","position","geometry","coordinates","onClick","icon","url","PinMarker","scaledSize","window","google","maps","Size","onCloseClick","name","address","tel","App","width","height","googleMapURL","process","loadingElement","containerElement","mapElement","Home","firebase","apps","length","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","storage","Mp3Recorder","MicRecorder","bitRate","SoundCommandButton","handleUpload","setState","modalConfirmLoading","cb","xhr","XMLHttpRequest","open","responseType","addEventListener","response","send","getFileBlob","state","blobURL","blob","ref","uploadName","put","then","snapshot","console","log","catch","error","finally","modalConfirmVisible","start","isBlocked","isRecording","e","stop","getMp3","URL","createObjectURL","modalVisible","handleClick","handlePlay","playLoading","audioElement","document","getElementById","play","handleOk","modalLoading","setTimeout","handleChange","target","value","loading","bind","navigator","mediaDevices","getUserMedia","audio","visible","confirmLoading","onOk","prefix","UserOutlined","onChange","onCancel","okText","cancelText","align","direction","SoundFilled","PlayCircleFilled","UploadOutlined","id","src","display","controls","Cheerup","sounds","metadata","urls","listAll","result","items","forEach","sound","push","getDownloadURL","Promise","all","urlArr","i","size","Header","Layout","Content","Footer","Sider","breakpoint","collapsedWidth","theme","mode","defaultSelectedKeys","Item","HomeFilled","to","textDecoration","PlusSquareFilled","InfoCircleFilled","HeartFilled","color","fontSize","padding","role","margin","path","component","Location","textAlign","Boolean","location","hostname","match","ReactDOM","render","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.e9c0eef8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pin.7c9810df.svg\";","import React, { Component } from \"react\";\nimport { Button } from \"antd\";\nimport { PhoneFilled } from \"@ant-design/icons\";\nexport default class PhoneNumber extends Component {\n  render() {\n    const { supportName, phoneNumber } = this.props;\n\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-sm-6\">\n            <p>{supportName}</p>\n          </div>\n          <div className=\"col-sm-5\">\n            <a href={\"tel:[\" + phoneNumber + \"]\"}>\n              <Button\n                type=\"primary\"\n                style={{ backgroundColor: \"green\", border: \"none\", borderRadius:\"5px\" }}\n              >\n                <PhoneFilled />\n                {phoneNumber}\n              </Button>\n            </a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Card } from \"antd\";\nimport PhoneNumber from \"./PhoneNumber\";\n\nexport default class Support extends Component {\n  render() {\n    return (\n      <div>\n        <Card title=\"เบอร์โทรศัพท์ฉุกเฉิน\">\n          <PhoneNumber\n            supportName=\"ศูนย์ประชาบดีแจ้งคนหาย\"\n            phoneNumber=\"1300\"\n          />\n          <br />\n          <PhoneNumber\n            supportName=\"สถาบันการแพทย์ฉุกเฉินแห่งชาติ\"\n            phoneNumber=\"1669\"\n          />\n          <br />\n          <PhoneNumber\n            supportName=\"โรงพยาบาลศิริราช\"\n            phoneNumber=\"02-419-1000\"\n          />\n          <br />\n          <PhoneNumber supportName=\"โรงพยาบาลจุฬา\" phoneNumber=\"02-649-4000\" />\n          <br />\n          <PhoneNumber\n            supportName=\"โรงพยาบาลราชวิถี\"\n            phoneNumber=\"02-206-2900\"\n          />\n          <br />\n          <PhoneNumber\n            supportName=\"โรงพยาบาลวิชัยเวช แยากไฟฉาย\"\n            phoneNumber=\"02-412-0055\"\n          />\n          <br />\n        </Card>\n      </div>\n    );\n  }\n}\n","import React, { useState } from \"react\";\nimport {\n  withGoogleMap,\n  withScriptjs,\n  GoogleMap,\n  Marker,\n  InfoWindow\n} from \"react-google-maps\";\nimport * as parkData from \"../data/hospital.json\";\nimport PinMarker from '../images/pin.svg';\n\nfunction Map() {\n  const [selectedHospital, setSelectedHospital] = useState(null);\n  \n\n  return (\n    <GoogleMap\n      defaultZoom={13}\n      defaultCenter={{ lat: 13.73051961, lng: 100.36696244 }}\n    //   defaultOptions={{ styles: mapStyles }}\n    >\n      {parkData.features.map(park => (\n        <Marker\n          key={park.properties.dcode}\n          position={{\n            lat: park.geometry.coordinates[0],\n            lng: park.geometry.coordinates[1]\n          }}\n          onClick={() => {\n            setSelectedHospital(park);\n          }}\n          icon={{\n            url: PinMarker,\n            scaledSize: new window.google.maps.Size(25, 25)\n          }}\n        />\n      ))}\n\n      {selectedHospital && (\n        <InfoWindow\n          onCloseClick={() => {\n            setSelectedHospital(null);\n          }}\n          position={{\n            lat: selectedHospital.geometry.coordinates[0],\n            lng: selectedHospital.geometry.coordinates[1]\n          }}\n        >\n          <div>\n            <p>{selectedHospital.properties.name}</p>\n            <p>{selectedHospital.properties.address}</p>\n            <a href={\"tel:[\" + selectedHospital.properties.tel + \"]\"}><p>{selectedHospital.properties.tel}</p></a>\n          </div>\n        </InfoWindow>\n      )}\n    </GoogleMap>\n  );\n}\n\nconst MapWrapped = withScriptjs(withGoogleMap(Map));\n\nexport default function App() {\n  return (\n    <div style={{ width: \"100%\", height: \"60vh\" }}>\n      <MapWrapped\n        googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=${\n          process.env.REACT_APP_GOOGLE_KEY\n        }`}\n        loadingElement={<div style={{ height: `100%` }} />}\n        containerElement={<div style={{ height: `100%` }} />}\n        mapElement={<div style={{ height: `100%` }} />}\n      />\n    </div>\n  );\n}","import React, { Component } from \"react\";\n\n\nexport default class Home extends Component {\n  render() {\n    return (\n      <div>\n\n      </div>\n    );\n  }\n}\n","import firebase from \"firebase/app\";\nimport \"firebase/storage\";\n\n// Initialize Firebase\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAcR04zfOkpNnf90aumafMe4JyNdLmmzKM\",\n  authDomain: \"mob-support-3d5a1.firebaseapp.com\",\n  databaseURL: \"https://mob-support-3d5a1.firebaseio.com\",\n  projectId: \"mob-support-3d5a1\",\n  storageBucket: \"mob-support-3d5a1.appspot.com\",\n  messagingSenderId: \"755638116751\",\n  appId: \"1:755638116751:web:70d8f71ef5c5c7148aabfa\"\n  // apiKey: process.env.apiKey,\n  // authDomain: process.env.authDomain,\n  // databaseURL: process.env.databaseURL,\n  // projectId: process.env.projectId,\n  // storageBucket: process.env.storageBucket,\n  // messagingSenderId: process.env.messagingSenderId,\n  // appId: process.env.appId,\n};\nif (!firebase.apps.length) {\n  firebase.initializeApp(firebaseConfig);\n}\n\nconst storage = firebase.storage();\n\nexport { storage, firebase as default };\n","import React, { Component } from \"react\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport { Button, Input, Space } from \"antd\";\nimport {\n  ExclamationCircleOutlined,\n  PlayCircleFilled,\n  SoundFilled,\n  UploadOutlined,\n  UserOutlined,\n} from \"@ant-design/icons\";\nimport { storage } from \"../firebase\";\nimport Modal from \"antd/lib/modal/Modal\";\nimport \"../style/CommandButton.css\";\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nvar getFileBlob = function (url, cb) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(\"GET\", url);\n  xhr.responseType = \"blob\";\n  xhr.addEventListener(\"load\", function () {\n    cb(xhr.response);\n  });\n  xhr.send();\n};\n\nexport default class SoundCommandButton extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uploadName: \"\",\n      isRecording: false,\n      blobURL: \"\",\n      isBlocked: false,\n      loading: false,\n      playLoading: false,\n      modalLoading: false,\n      modalVisible: false,\n      modalConfirmLoading: false,\n      modalConfirmVisible: false,\n    };\n    this.start = this.start.bind(this);\n    this.stop = this.stop.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleUpload = this.handleUpload.bind(this);\n    this.handlePlay = this.handlePlay.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleUpload = () => {\n    this.setState({ modalConfirmLoading: true });\n    getFileBlob(this.state.blobURL, (blob) => {\n      storage\n        .ref(`sounds/${this.state.uploadName}`)\n        .put(blob)\n        .then(function (snapshot) {\n          console.log(\"Uploaded a blob or file!\");\n        })\n        .catch(function (error) {\n          console.log(\"Error\");\n        })\n        .finally(() => {\n          this.setState({\n            modalConfirmLoading: false,\n            modalConfirmVisible: false,\n          });\n        });\n    });\n  };\n\n  start = () => {\n    if (this.state.isBlocked) {\n      console.log(\"Permission Denied\");\n    } else {\n      Mp3Recorder.start()\n        .then(() => {\n          this.setState({ isRecording: true });\n        })\n        .catch((e) => console.error(e));\n    }\n  };\n\n  stop = () => {\n    Mp3Recorder.stop()\n      .getMp3()\n      .then(([buffer, blob]) => {\n        const blobURL = URL.createObjectURL(blob);\n        this.setState({ blobURL, isRecording: false, modalVisible: true });\n      })\n      .catch((e) => console.log(e));\n  };\n\n  handleClick = () => {\n    if (!this.state.isRecording) this.start();\n    else this.stop();\n  };\n\n  handlePlay = () => {\n    this.setState({ playLoading: true });\n    var audioElement = document.getElementById(\"audio\");\n    audioElement.play();\n\n    audioElement.addEventListener(\n      \"ended\",\n      function () {\n        // Audio has ended when this function is executed.\n      },\n      false\n    );\n  };\n  handleOk = () => {\n    this.setState({\n      modalLoading: true,\n    });\n    setTimeout(() => {\n      this.setState({\n        modalVisible: false,\n        modalLoading: false,\n      });\n    }, 3000);\n  };\n  componentDidMount() {\n    navigator.mediaDevices.getUserMedia(\n      { audio: true },\n      () => {\n        console.log(\"Permission Granted\");\n        this.setState({ isBlocked: false });\n      },\n      () => {\n        console.log(\"Permission Denied\");\n        this.setState({ isBlocked: true });\n      }\n    );\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <Modal\n          title=\"กรอกชื่อผู้บันทึกเสียง\"\n          visible={this.state.modalVisible}\n          confirmLoading={this.state.modalLoading}\n          onOk={this.handleOk}\n        >\n          <Input\n            \n            prefix={<UserOutlined />}\n            name=\"uploadName\"\n            onChange={this.handleChange}\n          />\n        </Modal>\n        <Modal\n          title=\"ยืนยันการส่งเสียงขึ้นระบบ\"\n          visible={this.state.modalConfirmVisible}\n          confirmLoading={this.state.modalConfirmLoading}\n          onOk={this.handleUpload}\n          onCancel={() => this.setState({ modalConfirmVisible: false })}\n          okText=\"ตกลง\"\n          cancelText=\"ยกเลิก\"\n        >\n          <p>ยืนยันการส่งเสียงขึ้นระบบ ?</p>\n        </Modal>\n        <div className=\"command\">\n          <Space align=\"center\" direction=\"horizontal\">\n            <Button\n              type=\"primary\"\n              style={{ backgroundColor: \"green\", border: \"none\" }}\n              icon={<SoundFilled />}\n              onClick={this.handleClick}\n            >\n              {!this.state.isRecording ? \"อัดเสียง\" : \"หยุดอัด\"}\n            </Button>\n        \n\n            <Button\n              type=\"primary\"\n              style={{ backgroundColor: \"green\", border: \"none\" }}\n              icon={<PlayCircleFilled />}\n              onClick={this.handlePlay}\n            >\n              เล่น\n            </Button>\n      \n\n            <Button\n              type=\"primary\"\n              style={{ border: \"none\" }}\n              icon={<UploadOutlined />}\n              loading={this.state.modalConfirmLoading}\n              onClick={() => this.setState({ modalConfirmVisible: true })}\n            >\n              บันทึก\n            </Button>\n          </Space>\n        </div>\n        <audio\n          id=\"audio\"\n          src={this.state.blobURL}\n          style={{ display: \"none\" }}\n          controls=\"controls\"\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport SoundCommandButton from \"./SoundCommandButton\";\nimport { storage } from \"../firebase\";\nimport { Button, Card } from \"antd\";\nimport { PlayCircleFilled } from \"@ant-design/icons\";\n\nexport default class Cheerup extends Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n        sounds: [],\n        metadata: []\n    }\n  }\n\n\n  componentDidMount() {\n    navigator.mediaDevices.getUserMedia(\n      { audio: true },\n      () => {\n        console.log(\"Permission Granted\");\n        this.setState({ isBlocked: false });\n      },\n      () => {\n        console.log(\"Permission Denied\");\n        this.setState({ isBlocked: true });\n      }\n    );\n    let urls = [], metadata = []\n    storage.ref(\"sounds\").listAll().then((result) => {\n        result.items.forEach(sound => {\n          // And finally display them\n          urls.push(sound.getDownloadURL())\n          this.setState({\n            metadata: [...this.state.metadata, sound.name]\n          })\n      \n        });\n        Promise.all(urls).then(urlArr => {\n          this.setState({\n              sounds: urlArr,\n          })\n        })\n        .catch(function(error) {\n            // Handle any errors\n            console.log(error);\n        });\n    });\n  }\n\n\n  render() {\n    return (\n      <div>\n      <SoundCommandButton /><br/>\n        <div className=\"row\">\n            {this.state.sounds.map((sound, i) => {\n              return <div key={i} className=\"col col-sm col-md-4\">\n              \n                <Card title= {\"📣 \" + this.state.metadata[i]} key={i}>\n                          <Button\n                            type=\"primary\"\n                            size=\"large\"\n                            style={{width:\"100%\"}}\n                            icon={<PlayCircleFilled />}\n                            onClick={() => document.getElementById(i).play()}\n                          >\n                            เล่น\n                        </Button>\n                        <audio id={i} src={sound} style={{ display: \"none\" }} controls=\"controls\" />\n                </Card>              \n                  \n              </div>\n\n            })}          \n        </div>\n       \n        \n\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"antd/dist/antd.css\";\nimport { Layout, Menu } from \"antd\";\nimport {\n  HeartFilled,\n  HomeFilled,\n  InfoCircleFilled,\n  PlusSquareFilled,\n} from \"@ant-design/icons\";\n\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport Support from \"./components/Support\";\nimport Location from \"./components/Location\";\nimport Home from \"./components/Home\";\nimport Cheerup from \"./components/Cheerup\";\n\nconst { Header, Content, Footer, Sider } = Layout;\n\nexport default class App extends Component {\n\n  render() {\n    return (\n      <Router>\n        <Layout>\n          <Sider\n            breakpoint=\"lg\"\n            collapsedWidth=\"0\"\n          \n          >\n            <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[\"1\"]}>\n              <Menu.Item key=\"1\" icon={<HomeFilled />}>\n                <Link\n                  to=\"/thailand-mob-support-system/\"\n                  style={{ textDecoration: \"none\" }}\n                >\n                  หน้าหลัก\n                </Link>\n              </Menu.Item>\n              <Menu.Item key=\"2\" icon={<PlusSquareFilled />}>\n                <Link\n                  to=\"/thailand-mob-support-system/support\"\n                  style={{ textDecoration: \"none\" }}\n                >\n                  ขอความช่วยเหลือ\n                </Link>\n              </Menu.Item>\n              <Menu.Item key=\"3\" icon={<InfoCircleFilled />}>\n                <Link\n                  to=\"/thailand-mob-support-system/searchLocation\"\n                  style={{ textDecoration: \"none\" }}\n                >\n                  ค้นหาพิกัด\n                </Link>\n              </Menu.Item>\n              <Menu.Item\n                key=\"4\"\n                icon={\n                  <HeartFilled style={{ color: \"red\", fontSize: \"1.5em\" }} />\n                }\n              >\n                <Link\n                  to=\"/thailand-mob-support-system/cheerup\"\n                  style={{ textDecoration: \"none\" }}\n                >\n                  Cheer up !\n                </Link>\n              </Menu.Item>\n            </Menu>\n          </Sider>\n          <Layout>\n            <Header\n              className=\"site-layout-sub-header-background\"\n              style={{ padding: 0, color: \"white\", fontSize: 18 }}\n            >\n              <span role=\"img\" >📌 ระบบสอบถามข้อมูลแก่ผู้ชุมนุม</span>\n            </Header>\n            <Content style={{ margin: \"24px 16px 0\" }}>\n              <div\n                className=\"site-layout-background\"\n                style={{ padding: 24, height:\"100vh\" }}\n              >\n                <Route path=\"/thailand-mob-support-system/\" component={Home} />\n                <Route\n                  path=\"/thailand-mob-support-system/support\"\n                  component={Support}\n                />\n                <Route\n                  path=\"/thailand-mob-support-system/searchLocation\"\n                  component={Location}\n                />\n                <Route\n                  path=\"/thailand-mob-support-system/cheerup\"\n                  component={Cheerup}\n                />\n              </div>\n            </Content>\n            <Footer style={{ textAlign: \"center\", backgroundColor: \"white\" }}>\n              Icons made by{\" \"}\n              <a\n                href=\"https://www.flaticon.com/authors/freepik\"\n                title=\"Freepik\"\n              >\n                Freepik\n              </a>{\" \"}\n              from{\" \"}\n              <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">\n                {\" \"}\n                www.flaticon.com\n              </a>\n            </Footer>\n          </Layout>\n        </Layout>\n      </Router>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}